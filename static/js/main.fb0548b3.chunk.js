(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n,o=c(8),l=c.n(o),i=(c(14),c(15),c(16),c(1)),s=c.n(i),r=c(4);!function(e){e.All="All",e.Active="Active",e.Completed="Completed"}(n||(n={}));var a,d=c(2),u=c(3),j=c.n(u),b=c(0),f=s.a.createContext({todos:[],setTodos:function(){},visibleTodos:[],setVisibleTodos:function(){},filterBy:n.All,setFilterBy:function(){}}),m=function(e){var t=e.children,c=function(e,t){var c=Object(i.useState)((function(){var c=localStorage.getItem(t);return c?JSON.parse(c):e})),n=Object(d.a)(c,2),o=n[0],l=n[1];return Object(i.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o]),[o,l]}([],"todos"),n=Object(d.a)(c,2),o=n[0],l=n[1],s=Object(i.useState)([]),r=Object(d.a)(s,2),a=r[0],u=r[1],j=Object(i.useState)("All"),m=Object(d.a)(j,2),O={todos:o,setTodos:l,visibleTodos:a,setVisibleTodos:u,filterBy:m[0],setFilterBy:m[1]};return Object(b.jsx)(f.Provider,{value:O,children:t})};!function(e){e.Editing="editing"}(a||(a={}));var O=s.a.memo((function(e){var t=e.todo,c=Object(i.useState)(""),n=Object(d.a)(c,2),o=n[0],l=n[1],s=Object(i.useState)(""),u=Object(d.a)(s,2),m=u[0],O=u[1],h=Object(i.useState)(""),p=Object(d.a)(h,2),x=p[0],g=p[1],v=Object(i.useContext)(f),C=v.todos,y=v.setTodos,N=function(){var e=C.find((function(e){return e.id===t.id}));e&&x.length>0&&(e.title=x)};return Object(b.jsxs)("li",{className:j()({completed:t.completed},o),children:[Object(b.jsxs)("div",{className:"view",children:[Object(b.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:t.completed,onChange:function(){return e=t.id,void y(C.map((function(t){return t.id===e?Object(r.a)(Object(r.a)({},t),{},{completed:!t.completed}):t})));var e}}),Object(b.jsx)("label",{onDoubleClick:function(){g(t.title),l(a.Editing),O("editTodo")},className:"label",children:t.title}),Object(b.jsx)("button",{"data-cy":"deleteTodo",type:"button",className:"destroy",onClick:function(){return e=t.id,void y(C.filter((function(t){return t.id!==e})));var e}})]}),Object(b.jsx)("input",{id:m,type:"text",className:"edit",ref:function(e){return e&&e.focus()},value:x,onChange:function(e){return g(e.target.value.trim())},onKeyDown:function(e){"Enter"===e.key&&(N(),l("")),"Escape"===e.key&&l("")},onBlur:function(){N(),l("")}})]})})),h=s.a.memo((function(){var e=Object(i.useContext)(f),t=e.todos,c=e.setTodos,o=Object(i.useContext)(f).filterBy,l=0===t.filter((function(e){return!e.completed})).length;return Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:l,onChange:function(e){c(t.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{completed:e.target.checked})})))}}),Object(b.jsx)("label",{htmlFor:"toggle-all",hidden:0===t.length,children:"Mark all as complete"}),Object(b.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:function(e){switch(e){case n.Active:return t.filter((function(e){return!e.completed}));case n.Completed:return t.filter((function(e){return e.completed}));default:return t}}(o).map((function(e){return Object(b.jsx)(s.a.Fragment,{children:Object(b.jsx)(O,{todo:e})},e.id)}))})]})})),p=s.a.memo((function(){var e=Object(i.useContext)(f),t=e.todos,c=e.setTodos,n=Object(i.useContext)(f),o=n.filterBy,l=n.setFilterBy,s=function(e){e.preventDefault(),l(e.currentTarget.textContent||"All")};return Object(b.jsx)(b.Fragment,{children:t.length>0&&Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:function(){var e=t.filter((function(e){return!e.completed})).length;return"".concat(e,1===e?" item left":" items left")}()}),Object(b.jsxs)("ul",{className:"filters",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/",className:j()({selected:"All"===o}),onClick:s,children:"All"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/active",className:j()({selected:"Active"===o}),onClick:s,children:"Active"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/completed",className:j()({selected:"Completed"===o}),onClick:s,children:"Completed"})})]}),t.filter((function(e){return e.completed})).length>0&&Object(b.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){c(t.filter((function(e){return!e.completed})))},children:"Clear completed"})]})})})),x=c(9),g=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],o=Object(i.useContext)(f),l=o.todos,s=o.setTodos,r=function(e){if(e.preventDefault(),c){var t={id:+new Date,title:c,completed:!1};s([].concat(Object(x.a)(l),[t])),n("")}};return Object(b.jsx)("form",{onSubmit:r,onBlur:r,children:Object(b.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?","data-cy":"createTodo",value:c,onChange:function(e){return n(e.target.value.trim())}})})},v=function(){return Object(b.jsx)(m,{children:Object(b.jsxs)("section",{className:"todoapp",children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"todos"}),Object(b.jsx)(g,{})]}),Object(b.jsx)("section",{className:"main",children:Object(b.jsx)(h,{})}),Object(b.jsx)(p,{})]})})};l.a.render(Object(b.jsx)(v,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.fb0548b3.chunk.js.map