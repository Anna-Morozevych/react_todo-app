(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(8),o=c.n(n),l=(c(14),c(15),c(16),c(1)),s=c.n(l),i=c(4),r=c(2),a=c(3),d=c.n(a),u=c(0),j=s.a.createContext({todos:[],setTodos:function(){},visibleTodos:[],setVisibleTodos:function(){},filterBy:"All",setFilterBy:function(){}}),b=function(e){var t=e.children,c=function(e,t){var c=Object(l.useState)((function(){var c=localStorage.getItem(t);return c?JSON.parse(c):e})),n=Object(r.a)(c,2),o=n[0],s=n[1];return Object(l.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o]),[o,s]}([],"todos"),n=Object(r.a)(c,2),o=n[0],s=n[1],i=Object(l.useState)([]),a=Object(r.a)(i,2),d=a[0],b=a[1],f=Object(l.useState)("All"),O=Object(r.a)(f,2),m={todos:o,setTodos:s,visibleTodos:d,setVisibleTodos:b,filterBy:O[0],setFilterBy:O[1]};return Object(u.jsx)(j.Provider,{value:m,children:t})},f=s.a.memo((function(e){var t=e.todo,c=Object(l.useState)(""),n=Object(r.a)(c,2),o=n[0],s=n[1],a=Object(l.useState)(""),b=Object(r.a)(a,2),f=b[0],O=b[1],m=Object(l.useState)(""),h=Object(r.a)(m,2),p=h[0],x=h[1],g=Object(l.useContext)(j),v=g.todos,y=g.setTodos,C=function(){var e=v.find((function(e){return e.id===t.id}));e&&p.length>0&&(e.title=p)};return Object(u.jsxs)("li",{className:d()({completed:t.completed},o),children:[Object(u.jsxs)("div",{className:"view",children:[Object(u.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:t.completed,onChange:function(){return e=t.id,void y(v.map((function(t){return t.id===e?Object(i.a)(Object(i.a)({},t),{},{completed:!t.completed}):t})));var e}}),Object(u.jsx)("label",{onDoubleClick:function(){x(t.title),s("editing"),O("editTodo")},children:t.title}),Object(u.jsx)("button",{"data-cy":"deleteTodo",type:"button",className:"destroy",onClick:function(){return e=t.id,void y(v.filter((function(t){return t.id!==e})));var e}})]}),Object(u.jsx)("input",{id:f,type:"text",className:"edit",ref:function(e){return e&&e.focus()},value:p,onChange:function(e){return x(e.target.value.trim())},onKeyDown:function(e){"Enter"===e.key&&(C(),s("")),"Escape"===e.key&&s("")},onBlur:function(){C(),s("")}})]})})),O=s.a.memo((function(){var e=Object(l.useContext)(j),t=e.todos,c=e.setTodos,n=Object(l.useContext)(j).filterBy;return Object(u.jsxs)("section",{className:"main",children:[Object(u.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:0===t.filter((function(e){return!e.completed})).length,onChange:function(e){c(t.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{completed:e.target.checked})})))}}),Object(u.jsx)("label",{htmlFor:"toggle-all",hidden:0===t.length,children:"Mark all as complete"}),Object(u.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:function(e){switch(e){case"Active":return t.filter((function(e){return!e.completed}));case"Completed":return t.filter((function(e){return e.completed}));default:return t}}(n).map((function(e){return Object(u.jsx)(s.a.Fragment,{children:Object(u.jsx)(f,{todo:e})},e.id)}))})]})})),m=s.a.memo((function(){var e=Object(l.useContext)(j),t=e.todos,c=e.setTodos,n=Object(l.useContext)(j),o=n.filterBy,s=n.setFilterBy,i=function(){return t.filter((function(e){return!e.completed})).length},r=function(e){e.preventDefault(),s(e.currentTarget.textContent||"All")};return Object(u.jsx)(u.Fragment,{children:t.length>0&&Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsxs)("span",{className:"todo-count","data-cy":"todosCounter",children:["".concat(i()," "),i()>1?"items left":"item left"]}),Object(u.jsxs)("ul",{className:"filters",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/",className:d()({selected:"All"===o}),onClick:r,children:"All"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/active",className:d()({selected:"Active"===o}),onClick:r,children:"Active"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/completed",className:d()({selected:"Completed"===o}),onClick:r,children:"Completed"})})]}),t.filter((function(e){return e.completed})).length>0&&Object(u.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){c(t.filter((function(e){return!e.completed})))},children:"Clear completed"})]})})})),h=c(9),p=function(){var e=Object(l.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1],o=Object(l.useContext)(j),s=o.todos,i=o.setTodos,a=function(e){if(e.preventDefault(),c){var t={id:+new Date,title:c,completed:!1};i([].concat(Object(h.a)(s),[t])),n("")}};return Object(u.jsx)("form",{onSubmit:a,onBlur:a,children:Object(u.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?","data-cy":"createTodo",value:c,onChange:function(e){return n(e.target.value.trim())}})})},x=function(){return Object(u.jsx)(b,{children:Object(u.jsxs)("section",{className:"todoapp",children:[Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("h1",{children:"todos"}),Object(u.jsx)(p,{})]}),Object(u.jsx)("section",{className:"main",children:Object(u.jsx)(O,{})}),Object(u.jsx)(m,{})]})})};o.a.render(Object(u.jsx)(x,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.483800e2.chunk.js.map